async function load(){const q=s=>document.querySelector(s);let data=null;try{const r=await fetch('./memory/todo.json?ts='+Date.now());data=await r.json()}catch{}const avatar=q('#profileAvatar'),status=q('#profileStatus');if(data){const mins=(Date.now()-new Date(data.updatedAt))/60000;const stale=mins>240,active=mins<=120;status&&(status.textContent=stale?'Sync Lag':active?'Active':'Idle');if(avatar)avatar.className='avatar '+(stale?'stale':active?'active':'idle');q('#missionText')&&(q('#missionText').textContent=data.mission||'-');q('#kpiText')&&(q('#kpiText').innerHTML=`Published: ${data.kpis?.publishedAssets??0} · Templates: ${data.kpis?.starterTemplates??0} · Leads: ${data.kpis?.leads??0} · Revenue: $${data.kpis?.revenueUsd??0}`);q('#tasksNow')&&(q('#tasksNow').innerHTML=(data.now||[]).map(t=>`<li>${typeof t==='string'?t:t.title}</li>`).join('')||'<li>None</li>');q('#tasksNext')&&(q('#tasksNext').innerHTML=(data.next||[]).map(t=>`<li>${typeof t==='string'?t:t.title}</li>`).join('')||'<li>None</li>');q('#activityList')&&(q('#activityList').innerHTML=(data.activity||[]).slice().reverse().slice(0,8).map(a=>`<li>${typeof a==='string'?a:a.text}</li>`).join('')||'<li>None</li>');}else{status&&(status.textContent='Offline');if(avatar)avatar.className='avatar stale';}} load();